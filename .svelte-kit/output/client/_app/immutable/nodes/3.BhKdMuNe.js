import{a as c,t as $,e as q,b as R,c as K,s as V}from"../chunks/disclose-version.CkmQrO1S.js";import{V as oe,D as ne,v as p,m as v,o as u,x as b,y,aw as N,l as _,w as T,g as m,ab as Z,C as ee,a as ce,f as E}from"../chunks/index-client.CvPjOW-w.js";import{l as x,b as k,p as te,i as ae}from"../chunks/props.HYy-qROY.js";import"../chunks/legacy.4sU8tFht.js";import{i as U}from"../chunks/lifecycle.DnaYePt7.js";import{U as le,u as ie}from"../chunks/chunk-5JJNUDZC.BecKB5YT.js";import"../chunks/entry.C-GEGAjY.js";import{s as A,a as J,c as Y,b as O,e as de,B as fe,i as ve}from"../chunks/button.DPkN0eB5.js";function ue(i,e,o){var s=ne(i,e);s&&s.set&&(i[e]=o,oe(()=>{i[e]=null}))}var me=$('<div class="relative w-full overflow-auto"><table><!></table></div>');function he(i,e){const o=x(e,["children","$$slots","$$events","$$legacy"]),s=x(o,["class"]);p(e,!1);let r=k(e,"class",8,void 0);U();var t=me(),a=v(t);let d;var f=v(a);A(f,e,"default",{}),u(a),u(t),b(()=>d=J(a,d,{class:Y("w-full caption-bottom text-sm",r()),...s})),c(i,t),y()}var xe=$("<tbody><!></tbody>");function $e(i,e){const o=x(e,["children","$$slots","$$events","$$legacy"]),s=x(o,["class"]);p(e,!1);let r=k(e,"class",8,void 0);U();var t=xe();let a;var d=v(t);A(d,e,"default",{}),u(t),b(()=>a=J(t,a,{class:Y("[&_tr:last-child]:border-0",r()),...s})),c(i,t),y()}var _e=$("<caption><!></caption>");function be(i,e){const o=x(e,["children","$$slots","$$events","$$legacy"]),s=x(o,["class"]);p(e,!1);let r=k(e,"class",8,void 0);U();var t=_e();let a;var d=v(t);A(d,e,"default",{}),u(t),b(()=>a=J(t,a,{class:Y("text-muted-foreground mt-4 text-sm",r()),...s})),c(i,t),y()}var ge=$("<td><!></td>");function H(i,e){const o=x(e,["children","$$slots","$$events","$$legacy"]),s=x(o,["class"]);p(e,!1);let r=k(e,"class",8,void 0);U();var t=ge();let a;var d=v(t);A(d,e,"default",{}),u(t),b(()=>a=J(t,a,{class:Y("p-4 align-middle [&:has([role=checkbox])]:pr-0",r()),...s})),q("click",t,function(f){O.call(this,e,f)}),q("keydown",t,function(f){O.call(this,e,f)}),c(i,t),y()}var pe=$("<th><!></th>");function I(i,e){const o=x(e,["children","$$slots","$$events","$$legacy"]),s=x(o,["class"]);p(e,!1);let r=k(e,"class",8,void 0);U();var t=pe();let a;var d=v(t);A(d,e,"default",{}),u(t),b(()=>a=J(t,a,{class:Y("text-muted-foreground h-12 px-4 text-left align-middle font-medium [&:has([role=checkbox])]:pr-0",r()),...s})),c(i,t),y()}var ye=$("<thead><!></thead>");function we(i,e){const o=x(e,["children","$$slots","$$events","$$legacy"]),s=x(o,["class"]);p(e,!1);let r=k(e,"class",8,void 0);U();var t=ye();let a;var d=v(t);A(d,e,"default",{}),u(t),b(()=>a=J(t,a,{class:Y("[&_tr]:border-b",r()),...s})),q("click",t,function(f){O.call(this,e,f)}),q("keydown",t,function(f){O.call(this,e,f)}),c(i,t),y()}var Pe=$("<tr><!></tr>");function se(i,e){const o=x(e,["children","$$slots","$$events","$$legacy"]),s=x(o,["class"]);p(e,!1);let r=k(e,"class",8,void 0);U();var t=Pe();let a;var d=v(t);A(d,e,"default",{}),u(t),b(()=>a=J(t,a,{class:Y("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",r()),...s})),q("click",t,function(f){O.call(this,e,f)}),q("keydown",t,function(f){O.call(this,e,f)}),c(i,t),y()}var Ne=$("<!> <!> <!> <!>",1),ke=$("<!> <!> <!> <!>",1),Ue=$("<!> <!>",1),De=$('<div class="flex flex-col space-y-2 bg-gray-100 py-2 mx-10 rounded-sm"><div class="w-full flex flex-col space-y-4 p-2 items-left"><!> <!></div></div>');function ze(i,e){p(e,!1);const o=[{fullName:"John Doe",email:"8y0oY@example.com",imageUrl:"https://via.placeholder.com/150"},{fullName:"John Doe",email:"8y0oY@example.com",imageUrl:"https://via.placeholder.com/150"},{fullName:"John Doe",email:"8y0oY@example.com",imageUrl:"https://via.placeholder.com/150"},{fullName:"John Doe",email:"8y0oY@example.com",imageUrl:"https://via.placeholder.com/150"},{fullName:"John Doe",email:"8y0oY@example.com",imageUrl:"https://via.placeholder.com/150"}];var s=De(),r=v(s),t=v(r);be(t,{children:(d,f)=>{N();var D=R("List of Requests");c(d,D)},$$slots:{default:!0}});var a=_(t,2);return he(a,{children:(d,f)=>{var D=Ue(),F=T(D);we(F,{children:(j,Q)=>{se(j,{class:"mb-2",children:(C,G)=>{var l=Ne(),n=T(l);I(n,{class:"w-[100px] text-center",children:(h,z)=>{N();var w=R("Profile");c(h,w)},$$slots:{default:!0}});var L=_(n,2);I(L,{class:"text-center",children:(h,z)=>{N();var w=R("Name");c(h,w)},$$slots:{default:!0}});var S=_(L,2);I(S,{class:"text-center",children:(h,z)=>{N();var w=R("Email");c(h,w)},$$slots:{default:!0}});var B=_(S,2);I(B,{}),c(C,l)},$$slots:{default:!0}})},$$slots:{default:!0}});var M=_(F,2);$e(M,{children:(j,Q)=>{var C=K(),G=T(C);de(G,1,()=>o,ve,(l,n)=>{se(l,{children:(L,S)=>{var B=ke(),h=T(B);H(h,{class:"font-medium",children:(g,X)=>{N();var P=R();b(()=>V(P,m(n).imageUrl)),c(g,P)},$$slots:{default:!0}});var z=_(h,2);H(z,{class:"text-center",children:(g,X)=>{N();var P=R();b(()=>V(P,m(n).fullName)),c(g,P)},$$slots:{default:!0}});var w=_(z,2);H(w,{class:"text-center",children:(g,X)=>{N();var P=R();b(()=>V(P,m(n).email)),c(g,P)},$$slots:{default:!0}});var W=_(w,2);H(W,{class:"text-center",children:(g,X)=>{fe(g,{children:(P,je)=>{N();var re=R("Accept");c(P,re)},$$slots:{default:!0}})},$$slots:{default:!0}}),c(L,B)},$$slots:{default:!0}})}),c(j,C)},$$slots:{default:!0}}),c(d,D)},$$slots:{default:!0}}),u(r),u(s),c(i,s),ue(e,"Requests",o),y({Requests:o})}var Re=$('<div><div class="flex flex-row justify-between py-2 px-20 items-center"><h1 class="text-2xl font-extrabold">Admin Dashboard</h1> <div class="flex flex-row items-center space-x-4"><h1 class="text-lg font-semibold"> </h1> <!></div></div> <div class="flex flex-row space-x-6 ml-10 mt-10"></div> <!></div>');function Te(i,e){p(e,!1);let o=k(e,"data",24,()=>({}));U();var s=Re(),r=v(s),t=_(v(r),2),a=v(t),d=v(a,!0);u(a);var f=_(a,2);le(f,{afterSignOutUrl:"/"}),u(t),u(r);var D=_(r,4);ze(D,{}),u(s),b(()=>V(d,o().fullName)),c(i,s),y()}var Ae=$('<div><div class="flex flex-row justify-between py-2 px-20 items-center"><h1 class="text-2xl font-extrabold">Dashboard</h1> <div class="flex flex-row items-center space-x-4"><h1 class="text-lg font-semibold"> </h1> <!></div></div> <div class="flex flex-col justify-center space-y-2 items-center bg-gray-100 py-2 mx-10 mt-10 rounded-sm"><div class="border rounded-lg w-3/4 h-96 flex flex-col space-y-2 px-2"><h1 class="text-xl text-gray-500">Rented Lockers: <span class="text-black">0</span></h1> <a href="/lockers" class="bg-blue-500 hover:bg-blue-700 text-white text-xl w-48 py-2 px-4 rounded text-center self-center">Rent a Locker</a></div></div></div>');function Je(i,e){p(e,!1);let o=k(e,"data",24,()=>({}));U();var s=Ae(),r=v(s),t=_(v(r),2),a=v(t),d=v(a,!0);u(a);var f=_(a,2);le(f,{afterSignOutUrl:"/"}),u(t),u(r),N(2),u(s),b(()=>V(d,o().fullName)),c(i,s),y()}var Ye=$("<p>Loading...</p>");function Fe(i,e){p(e,!0);let o=Z(!0),s=Z(null),r=Z(te({email:"",fullName:"",imageUrl:""}));const t=ie(),a=E(()=>t),d=E(()=>{var l,n;return(n=(l=m(a))==null?void 0:l.user)==null?void 0:n.id}),f=E(()=>{var l,n;return(n=(l=m(a))==null?void 0:l.user)==null?void 0:n.emailAddresses[0].emailAddress}),D=E(()=>{var l,n;return(n=(l=m(a))==null?void 0:l.user)==null?void 0:n.fullName}),F=E(()=>{var l,n;return(n=(l=m(a))==null?void 0:l.user)==null?void 0:n.imageUrl});ee(r,te({email:m(f)||"",fullName:m(D)||"",imageUrl:m(F)||""}));const M=async()=>{try{const l=await fetch(`/api/admin/${m(d)}`),n=await l.json();n&&l&&ee(s,te(n.authenticated))}catch(l){l&&console.log(l)}finally{ee(o,!1)}};ce(()=>{m(d)&&M()});var j=K(),Q=T(j);{var C=l=>{var n=Ye();c(l,n)},G=l=>{var n=K(),L=T(n);{var S=h=>{Te(h,{get data(){return m(r)}})},B=h=>{var z=K(),w=T(z);{var W=g=>{Je(g,{get data(){return m(r)}})};ae(w,g=>{m(s)===!1&&g(W)},!0)}c(h,z)};ae(L,h=>{m(s)===!0?h(S):h(B,!1)})}c(l,n)};ae(Q,l=>{m(o)?l(C):l(G,!1)})}c(i,j),y()}export{Fe as component};
